<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Checkout | EventHive</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="css/global.css" rel="stylesheet" />
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top shadow-sm">
        <div class="container">
            <!-- Brand / Logo -->
            <a class="navbar-brand fw-bold text-warning d-flex align-items-center gap-2" href="index.html">
              <img src="assets/images/logo.jpg" alt="EventHive Logo" style="height: 40px; width: 40px; object-fit: cover; border-radius: 50%;">
              <span>EventHive</span>
            </a>


            <!-- Hamburger -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu">
            <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Nav Items -->
            <div class="collapse navbar-collapse" id="navbarMenu">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="events/events.html">Events</a></li>
                <li class="nav-item"><a class="nav-link" href="aboutus.html">About Us</a></li>
                <li class="nav-item"><a class="nav-link" href="wishlist.html"><i class="bi bi-heart-fill"></i> Wishlist</a></li>
                <li class="nav-item"><a class="nav-link" href="contactus.html">Contact</a></li>
                <li class="nav-item"><a class="nav-link" href="faq.html">FAQ</a></li>
                <li class="nav-item"><a class="nav-link position-relative" href="cart.html">
                <i class="bi bi-cart-fill"></i> Cart
                <!-- Optional cart badge -->
                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning text-dark">2</span>
                </a></li>
                <!-- Login & Sign Up CTA -->
                <li class="nav-item ms-lg-3" id="authButtons">
                    <a class="btn btn-outline-warning btn-sm me-2" href="login.html">Login</a>
                    <a class="btn btn-warning btn-sm" href="signup.html">Sign Up</a>
                </li>
            </ul>
            </div>
        </div>
    </nav>

  <!-- Header -->
  <header class="bg-dark text-white text-center py-5">
    <div class="container">
      <h1 class="display-5 fw-bold">Checkout</h1>
      <p class="lead">Review and complete your ticket booking</p>
    </div>
  </header>

    <!-- Checkout Section -->

    <form action="thankyou.html" method="GET">

        <section class="py-5">
            <div class="container">
            <div class="row g-5">
                <!-- Billing Form -->
                <div class="col-md-7">
                <h4 class="mb-3">Billing Information</h4>
                    <div class="row">
                    <div class="col-sm-6 mb-3">
                        <label for="firstName" class="form-label">First name</label>
                        <input type="text" class="form-control" id="firstName" placeholder="John" required>
                    </div>
                    <div class="col-sm-6 mb-3">
                        <label for="lastName" class="form-label">Last name</label>
                        <input type="text" class="form-control" id="lastName" placeholder="Doe" required>
                    </div>
                    </div>

                    <div class="mb-3">
                    <label for="email" class="form-label">Email address</label>
                    <input type="email" class="form-control" id="email" placeholder="you@example.com" required>
                    </div>

                    <div class="mb-3">
                    <label for="address" class="form-label">Address</label>
                    <input type="text" class="form-control" id="address" placeholder="123 Main Street" required>
                    </div>

                    <hr class="my-4">

                    <h4 class="mb-3">Payment Method</h4>

                    <div class="form-check mb-2">
                        <input id="credit" name="paymentMethod" type="radio" class="form-check-input" checked required onclick="togglePayment('credit')">
                        <label class="form-check-label" for="credit">Credit/Debit Card</label>
                    </div>
                    <div class="form-check mb-2">
                        <input id="paypal" name="paymentMethod" type="radio" class="form-check-input" required onclick="togglePayment('paypal')">
                        <label class="form-check-label" for="paypal">PayPal</label>
                    </div>
                    <div class="form-check mb-3">
                        <input id="kpay" name="paymentMethod" type="radio" class="form-check-input" required onclick="togglePayment('kpay')">
                        <label class="form-check-label" for="kpay">KPay</label>
                    </div>


                    <div id="creditSection">
                        <div class="row gy-3 mt-3">
                            <div class="col-md-6">
                                <label for="cc-name" class="form-label">Name on card</label>
                                <input type="text" class="form-control" id="cc-name" required>
                            </div>

                            <div class="col-md-6">
                                <label for="cc-number" class="form-label">Card number</label>
                                <input type="text" class="form-control" id="cc-number" required>
                            </div>

                            <div class="col-md-3">
                                <label for="cc-expiration" class="form-label">Expiry</label>
                                <input type="text" class="form-control" id="cc-expiration" placeholder="MM/YY" required>
                            </div>

                            <div class="col-md-3">
                                <label for="cc-cvv" class="form-label">CVV</label>
                                <input type="text" class="form-control" id="cc-cvv" placeholder="123" required>
                            </div>
                        </div>
                    </div>


                    <!-- KPay QR Code Section -->
                    <div id="kpayQR" class="mt-4 d-none">
                    <label class="form-label">Scan with KBZPay App:</label>
                    <div class="border rounded p-3 text-center bg-light">
                        <img src="assets/images/kpay.webp" alt="KPay QR" class="img-fluid" style="max-width: 250px;" />
                        <p class="small mt-2 text-muted">Open your KBZPay app and scan this QR to pay.</p>
                    </div>
                    </div>

                    <hr class="my-4">

                    <button class="btn btn-warning w-100" type="submit">Place Order</button>
                
                </div>

                <!-- Order Summary -->
                <div class="col-md-5">
                <h4 class="mb-3">Order Summary</h4>
                <ul class="list-group mb-3">
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                    <div>
                        <h6 class="my-0">Rock & Roll Night (VIP)</h6>
                        <small class="text-muted">2 Tickets</small>
                    </div>
                    <span class="text-muted">MMK 50,000</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between lh-sm">
                    <div>
                        <h6 class="my-0">Art Expo (General)</h6>
                        <small class="text-muted">1 Ticket</small>
                    </div>
                    <span class="text-muted">MMK 10,000</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                    <span>Service Fee</span>
                    <strong>MMK 2,000</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                    <span>Total (MMK)</span>
                    <strong>MMK 62,000</strong>
                    </li>
                </ul>
                </div>
            </div>
            </div>
        </section>

    </form>

  <!-- Footer -->
   <footer class="footer bg-dark text-white pt-5 pb-3 mt-5">
        <div class="container">
            <div class="row">

            <!-- Brand/Logo Section -->
            <div class="col-md-4 mb-4">
                <div class="d-flex align-items-center gap-2 mb-2">
                  <img src="assets/images/logo.jpg" alt="EventHive Logo" style="height: 40px; width: 40px; object-fit: cover; border-radius: 50%;">
                  <h4 class="text-warning mb-0">EventHive</h4>
              </div>

                <p>Book your favorite events with ease. Concerts, expos, and more — all in one place.</p>
            </div>

            <!-- Quick Links -->
            <div class="col-md-4 mb-4">
                <h5 class="text-warning">Quick Links</h5>
                <ul class="list-unstyled">
                <li><a href="index.html" class="footer-link">Home</a></li>
                <li><a href="events/events.html" class="footer-link">Events</a></li>
                <li><a href="about.html" class="footer-link">About Us</a></li>
                <li><a href="contact.html" class="footer-link">Contact</a></li>
                <li><a href="faq.html" class="footer-link">FAQ</a></li>
                </ul>
            </div>

            <!-- Contact & Social -->
            <div class="col-md-4 mb-4">
                <h5 class="text-warning">Contact Us</h5>
                <p>Email: <a href="mailto:support@eventbooking.com" class="footer-link">support@eventbooking.com</a></p>
                <p>Phone: +95 123 456 789</p>
                <div class="social-icons mt-3">
                <a href="https://www.facebook.com/" class="me-3 footer-icon"><i class="bi bi-facebook"></i></a>
                <a href="https://www.twitter.com/" class="me-3 footer-icon"><i class="bi bi-twitter"></i></a>
                <a href="https://www.instagram.com/" class="me-3 footer-icon"><i class="bi bi-instagram"></i></a>
                <!-- Language Switcher -->
                <div class="dropdown d-inline-block">
                  <a class="footer-icon dropdown-toggle text-white" href="#" role="button" id="langDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-globe"></i>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="langDropdown">
                    <li><a class="dropdown-item" href="#" onclick="changeLang('en')">English</a></li>
                    <li><a class="dropdown-item" href="#" onclick="changeLang('my')">မြန်မာ</a></li>
                  </ul>
                </div>
                </div>

          

            </div>

            </div>
            <hr class="border-secondary">
            <div class="text-center">
            <p class="mb-0">&copy; 2025 EventHive. All rights reserved.</p>
            </div>
        </div>
    </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
  function togglePayment(method) {
  const credit = document.getElementById('creditSection');
  const kpay = document.getElementById('kpayQR');
  const creditInputs = credit.querySelectorAll('input');

  if (method === 'kpay') {
    credit.classList.add('d-none');
    kpay.classList.remove('d-none');

    // Remove required attribute from credit card inputs
    creditInputs.forEach(input => input.required = false);
  } else {
    credit.classList.remove('d-none');
    kpay.classList.add('d-none');

    // Add required attribute back to credit card inputs
    creditInputs.forEach(input => input.required = true);
  }
}

// Check login state on page load
  window.addEventListener("DOMContentLoaded", () => {
    const isLoggedIn = localStorage.getItem("eventLoggedIn");
    if (isLoggedIn === "true") {
      const authSection = document.getElementById("authButtons");
      if (authSection) {
        authSection.style.display = "none";
      }

      // Optional: Show welcome text or logout button
      const nav = document.querySelector(".navbar-nav");
      if (nav) {
        const storedUser = JSON.parse(localStorage.getItem("eventUser"));
        const welcome = document.createElement("li");
        welcome.className = "nav-item d-flex align-items-center ms-lg-3 text-white fw-bold";
        welcome.innerHTML = `<span>Welcome, ${storedUser.fullname.split(" ")[0]}</span>`;
        nav.appendChild(welcome);
      }
    }
  });

  const logoutBtn = document.createElement("li");
    logoutBtn.className = "nav-item ms-2";
    logoutBtn.innerHTML = `<button class="btn btn-danger btn-sm" id="logoutBtn">Logout</button>`;
    nav.appendChild(logoutBtn);

    document.getElementById("logoutBtn").addEventListener("click", () => {
    localStorage.removeItem("eventLoggedIn");
    window.location.reload(); // or redirect to login.html
    });

</script>
<script src="js/global.js"></script>

</body>
</html>
